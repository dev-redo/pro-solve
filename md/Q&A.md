# Q&A

## 1. 프로솔브에서 인증이 필요한 이유가 무엇인가요?

프로솔브 익스텐션에는 *제출한 풀이 저장* 기능이 있습니다. <br />
이 기능에서 유저들을 식별하고 각 유저의 풀이를 저장하기 위해 파이어베이스를 이용하였습니다. <br />
인증에는 구글 Oauth를 이용하였으며, 유저가 한번 로그인한 계정으로 계속 이용하리라 판단하여 로그아웃 기능을 구현하지 않았습니다.

## 2. 인증 유효기간은 어느 정도 되나요?

프로솔브는 크롬 익스텐션 api인 **getAuthToken**를 이용해 파이어베이스에서 발급받은 구글 Oauth 토큰을 캐싱합니다. <br />
이를 통해 익스텐션을 사용하는 동안 계속 인증을 유지하게끔 구현하였습니다.<br />

하지만 로그인한 계정의 비밀번호가 바뀌게 될 시 다시 토큰을 재발급해야 하는데, 이 경우 로그인을 다시 해주셔야 합니다.

## 3. 성공한 문제 차트 & 표에 제가 푼 문제 중 몇 개가 보이지 않아요!

해당 이슈는 프로그래머스 전체 문제 list를 저장하는 jsDeliver cdn이 업데이트 되지 않았기에 발생하는 이슈입니다.

프로솔브가 유저가 성공한 문제 list를 받아오기 위해 아래의 flow를 따르고 있습니다.

- 처음 익스텐션을 다운로드 할 때 프로그래머스의 api 크롤링을 통해 지금까지 유저가 성공한 문제들의 id를 chrome api의 local storage에 저장합니다. <br />
- 사용자가 새로운 문제를 성공할 시 local storage에 해당 문제의 id를 추가합니다. <br />
- 성공한 문제 차트 & 표 tab에 진입 시 프로그래머스 전체 문제 list를 받아옵니다.
  - 전체 문제 list는 제가 일정 기간마다 크롤링을 한 후 jsDeliver Opensource CDN를 이용해 제공하고 있습니다.
  - [해당 cdn 주소](https://cdn.jsdelivr.net/gh/dev-redo/programmers-problems@main/problems.json)로 request하여 전체 문제 list를 받아옵니다.
- 전체 문제 중 유저가 풀이한 문제만을 필터링한 후 제공하고 있습니다.

따라서 추가된 문제를 업데이트하지 못했을 시 그 문제는 보여지지 않게 됩니다.

현재 프로솔브는 일정 기간마다 전체 문제를 업데이트하고 있습니다. 

따라서 해당 이슈를 경험하셨더라도 업데이트할 때 해결될 것입니다.

## 4. 풀이 업로드가 되지 않아요!

풀이가 업로드 되지 않는 원인에는 2가지가 있습니다.

1. 만약 로그인을 하지 않았을 시 업로드에 실패하게 됩니다.

<p align="center">
  <img src="https://imgur.com/DjZk7we.png" width="800">
</p>

2. 프로솔브 익스텐션 세부사항을 변경할 시(ex. 익스텐션을 시크릿 모드에서 허용) 새로고침을 해주어야 합니다.
만약 새로고침을 안 할 시 업로드에 실패하게 됩니다.

<p align="center">
  <img src="https://imgur.com/6RbBt1s.png" width="800">
</p>

두 가지 원인이 아님에도 풀이가 업로드되지 않는다면 이슈를 작성해주시길 바랍니다.
